//*****************************************************************************
//  sceneモジュール
//  サンプルシーン
//  author: 中島将浩
//  update: 2014/04/15
//*****************************************************************************
#ifndef _OBJECT_EFFECT_H_
#define _OBJECT_EFFECT_H_

#include "main.h"
#include "object.h"
#include <Effekseer.h>

//*****************************************************************************
//  constant
//*****************************************************************************

//*****************************************************************************
//  class
//*****************************************************************************
class ObjectEffect : public Object{
	public:
	//*****************************************************************************
	//【コンストラクタ】
	//  頂点バッファNULL詰めなど
	//  引数: なし
	//*****************************************************************************
	ObjectEffect(Renderer *master_renderer, int layer_no = Object::DRAW_LAYER_EFFEKSEER);

	//*****************************************************************************
	//【デストラクタ】
	//  あとかたづけ
	//  引数: なし
	//*****************************************************************************
	virtual ~ObjectEffect(){Release();}

	enum EFFECT_TYPE{
		TEST = 0,
		MAX
	};

	//*****************************************************************************
	//【初期化】
	//  返り値: 初期化に成功したかどうか
	//  引数: なし
	//*****************************************************************************
	HRESULT SetUp(EFFECT_TYPE type);

	//*****************************************************************************
	//【終了】
	//  返り値: なし
	//  引数: なし
	//*****************************************************************************
	virtual void Release(void);

	//*****************************************************************************
	//【更新】
	//  返り値: なし
	//  引数: なし
	//*****************************************************************************
	virtual void Update(void);

	//*****************************************************************************
	//【描画】
	//  返り値: なし
	//  引数: なし
	//*****************************************************************************
	virtual void Draw(void);

	void Play(bool loop = false);
protected:
	Effekseer::Effect* _image;
	Effekseer::Handle _handle;
	bool _loop;
	int _time;
	EFFECT_TYPE _type;

	static const wchar_t* FILENAME_TABLE[EFFECT_TYPE::MAX];
	static const int FRAME_TABLE[EFFECT_TYPE::MAX];
};

//accessor

#endif//_SCENE_H_